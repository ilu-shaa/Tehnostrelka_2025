<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <link rel="icon" href="{% static 'cut.png' %}">
</head>
<body>
    <header class="header">
        <div class="container">
            <h1 class="logo">üé¨ –§–∏–ª—å–º–æ—Ç–µ–∫–∞</h1>
            <nav class="auth-nav">
                {% if user.is_authenticated %}
                    <a href="{% url 'profile' %}" class="btn profile-btn">üë§ {{ user.username }}</a>
                    <a href="{% url 'logout' %}" class="btn logout-btn">üö™ –í—ã–π—Ç–∏</a>
                {% else %}
                    <a href="{% url 'login' %}" class="btn login-btn">üîë –í–æ–π—Ç–∏</a>
                    <a href="{% url 'register' %}" class="btn register-btn">üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                {% endif %}
            </nav>
        </div>
    </header>
    <div class="profile_all">
        <h1>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
        <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≤–∞—à –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç!</p>
        <h3>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</h3><h3>---</h3>
        <div class="recommendations-section">
            <h2>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
            <style>
                /* –°—Ç–∏–ª–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ */
                .recommendations-title {
                    text-align: center;
                    margin-bottom: 2rem;
                    color: var(--primary-color);
                }
        
                .movie-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                    gap: 1.5rem;
                    padding: 1rem;
                }
        
                .movie-card {
                    background: white;
                    border-radius: var(--border-radius);
                    box-shadow: var(--box-shadow);
                    overflow: hidden;
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                }
        
                .movie-card:hover {
                    transform: translateY(-5px);
                    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
                }
        
                .movie-poster img {
                    width: 100%;
                    height: auto;
                    display: block;
                }
        
                .movie-info {
                    padding: 1rem;
                }
        
                .movie-title {
                    font-size: 1.2rem;
                    margin: 0;
                    color: var(--primary-color);
                }
        
                .movie-title a {
                    text-decoration: none;
                    color: inherit;
                }
        
                .movie-year {
                    font-size: 0.9rem;
                    color: #7f8c8d;
                }
        
                .movie-meta {
                    margin-top: 0.5rem;
                    font-size: 0.9rem;
                    color: #555;
                }
        
                .movie-director, .movie-genres {
                    margin: 0.25rem 0;
                }
        
                .no-results {
                    text-align: center;
                    margin-top: 2rem;
                }
        
                .no-results-image {
                    max-width: 200px;
                    margin-bottom: 1rem;
                }
        
                .no-results-title {
                    color: var(--primary-color);
                    margin-bottom: 0.5rem;
                }
        
                .no-results-text {
                    color: #7f8c8d;
                }
        
                #scrollToTopBtn {
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background-color: var(--primary-color);
                    color: white;
                    border: none;
                    border-radius: 50%;
                    width: 40px;
                    height: 40px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
                    transition: background-color 0.3s ease;
                }
        
                #scrollToTopBtn:hover {
                    background-color: var(--secondary-color);
                }
            </style>
        </head>
        
        
            <main class="main-content">
                <button id="scrollToTopBtn" onclick="scrollToTop()" style="display:none;">&uarr;</button>
                <div class="container1">
                    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è —Ä–∞–∑–¥–µ–ª–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π -->
                    <p><a href="{% url 'movie_list' %}" class="back-link">‚Üê –ö —Å–ø–∏—Å–∫—É —Ñ–∏–ª—å–º–æ–≤</a></p>
                    <h2 class="recommendations-title">–í–∞—à–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏</h2>
                    
                    {% if movies %}
                        <div class="movie-grid">
                            {% for movie in movies %}
                            <article class="movie-card">
                                <div class="movie-poster">
                                    <img src="{% static 'posters/' %}{{ movie.poster|default:'no-image.jpg' }}" 
                                         alt="{{ movie.title }}" 
                                         loading="lazy">
                                </div>
                                <div class="movie-info">
                                    <h3 class="movie-title">
                                        <a href="{% url 'movie_detail' movie.id %}">{{ movie.title }}</a>
                                        <span class="movie-year">({{ movie.year }})</span>
                                    </h3>
                                    <div class="movie-meta">
                                        <p class="movie-director">üé¨ {{ movie.author }}</p>
                                        <p class="movie-genres">üè∑Ô∏è {{ movie.user_tags }}</p>
                                    </div>
                                </div>
                            </article>
                            {% endfor %}
                        </div>
                    {% else %}
                        <div class="no-results">
                            <img src="{% static 'images/no-results.svg' %}" 
                                 alt="–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" 
                                 class="no-results-image">
                            <h3 class="no-results-title">–ü–æ–∫–∞ –Ω–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π</h3>
                            <p class="no-results-text">–ü–æ—Å—Ç–∞–≤—å—Ç–µ –ª–∞–π–∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Ñ–∏–ª—å–º–∞–º, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –ø–æ–¥–æ–±—Ä–∞—Ç—å —á—Ç–æ-—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ.</p>
                        </div>
                    {% endif %}
                </div>

            
            <script>
                // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∫–Ω–æ–ø–∫—É –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ
                window.onscroll = function() {
                    const scrollToTopBtn = document.getElementById('scrollToTopBtn');
                    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                        scrollToTopBtn.style.display = "flex"; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                    } else {
                        scrollToTopBtn.style.display = "none"; // –°–∫—Ä—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É
                    }
                };
        
                // –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ –≤–≤–µ—Ä—Ö
                function scrollToTop() {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth' // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞
                    });
                }
            </script>
        </div>
    </div>
</body>
</html>